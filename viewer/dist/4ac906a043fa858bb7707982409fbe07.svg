<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="695px" preserveAspectRatio="none" style="width:958px;height:695px;" version="1.1" viewBox="0 0 958 695" width="958px" zoomAndPan="magnify"><defs><filter height="300%" id="f1csyqimn3edxb" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" height="680.0137" style="stroke: #A80036; stroke-width: 1.0;" width="184" x="4" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="52" x="70" y="16.5684">Devices</text><rect fill="#DDDDDD" height="680.0137" style="stroke: #A80036; stroke-width: 1.0;" width="105" x="190" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="99" x="193" y="16.5684">ATMS SERVERS</text><rect fill="#AAAAAA" height="680.0137" style="stroke: #A80036; stroke-width: 1.0;" width="503" x="297" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="507.5" y="16.5684">GAE SERVER</text><rect fill="#DDDDDD" height="680.0137" style="stroke: #A80036; stroke-width: 1.0;" width="107" x="802" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="101" x="805" y="16.5684">OTHER SERVER</text><rect fill="#FFFFFF" filter="url(#f1csyqimn3edxb)" height="71.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="237.5" y="161.1094"/><rect fill="#FFFFFF" filter="url(#f1csyqimn3edxb)" height="114.9316" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="349.5" y="146.7988"/><rect fill="#FFFFFF" filter="url(#f1csyqimn3edxb)" height="144.2422" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="349.5" y="377.6621"/><rect fill="#FFFFFF" filter="url(#f1csyqimn3edxb)" height="144.2422" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="464.5" y="377.6621"/><rect fill="#FFFFFF" filter="url(#f1csyqimn3edxb)" height="29" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="567" y="276.041"/><rect fill="#FFFFFF" filter="url(#f1csyqimn3edxb)" height="29" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="567" y="536.2148"/><rect fill="#FFFFFF" filter="url(#f1csyqimn3edxb)" height="14.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="754" y="334.3516"/><rect fill="#FFFFFF" filter="url(#f1csyqimn3edxb)" height="43.6211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="754" y="449.2832"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="44" x2="44" y1="86.4883" y2="597.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="137" x2="137" y1="86.4883" y2="597.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="242.5" x2="242.5" y1="86.4883" y2="597.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="354" x2="354" y1="86.4883" y2="597.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="469" x2="469" y1="86.4883" y2="597.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="572" x2="572" y1="86.4883" y2="597.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="673" x2="673" y1="86.4883" y2="597.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="759" x2="759" y1="86.4883" y2="597.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="855" x2="855" y1="86.4883" y2="597.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="933" x2="933" y1="86.4883" y2="597.5254"/><rect fill="#FEFECE" filter="url(#f1csyqimn3edxb)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="8" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="15" y="71.5352">Sensors</text><rect fill="#FEFECE" filter="url(#f1csyqimn3edxb)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="8" y="596.5254"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="15" y="617.0605">Sensors</text><rect fill="#FEFECE" filter="url(#f1csyqimn3edxb)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="90" x="90" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="97" y="71.5352">Computers</text><rect fill="#FEFECE" filter="url(#f1csyqimn3edxb)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="90" x="90" y="596.5254"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="97" y="617.0605">Computers</text><rect fill="#FEFECE" filter="url(#f1csyqimn3edxb)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="201.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="208.5" y="71.5352">SqlServer</text><rect fill="#FEFECE" filter="url(#f1csyqimn3edxb)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="201.5" y="596.5254"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="208.5" y="617.0605">SqlServer</text><rect fill="#FEFECE" filter="url(#f1csyqimn3edxb)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="301" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="308" y="71.5352">Data Handler</text><rect fill="#FEFECE" filter="url(#f1csyqimn3edxb)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="301" y="596.5254"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="308" y="617.0605">Data Handler</text><rect fill="#FEFECE" filter="url(#f1csyqimn3edxb)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="429" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="436" y="71.5352">Database</text><rect fill="#FEFECE" filter="url(#f1csyqimn3edxb)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="429" y="596.5254"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="436" y="617.0605">Database</text><rect fill="#FEFECE" filter="url(#f1csyqimn3edxb)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="520" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="527" y="71.5352">Presentation</text><rect fill="#FEFECE" filter="url(#f1csyqimn3edxb)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="520" y="596.5254"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="527" y="617.0605">Presentation</text><rect fill="#FEFECE" filter="url(#f1csyqimn3edxb)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="74" x="634" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="641" y="71.5352">Reporter</text><rect fill="#FEFECE" filter="url(#f1csyqimn3edxb)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="74" x="634" y="596.5254"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="641" y="617.0605">Reporter</text><rect fill="#FEFECE" filter="url(#f1csyqimn3edxb)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="722" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="729" y="71.5352">Checker</text><rect fill="#FEFECE" filter="url(#f1csyqimn3edxb)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="722" y="596.5254"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="729" y="617.0605">Checker</text><rect fill="#FEFECE" filter="url(#f1csyqimn3edxb)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="55" x="826" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="833" y="71.5352">Cloud</text><rect fill="#FEFECE" filter="url(#f1csyqimn3edxb)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="55" x="826" y="596.5254"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="833" y="617.0605">Cloud</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="915" y="83.5352">user</text><ellipse cx="933" cy="13" fill="#FEFECE" filter="url(#f1csyqimn3edxb)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M933,21 L933,48 M920,29 L946,29 M933,48 L920,63 M933,48 L946,63 " fill="#FEFECE" filter="url(#f1csyqimn3edxb)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="915" y="610.0605">user</text><ellipse cx="933" cy="623.0137" fill="#FEFECE" filter="url(#f1csyqimn3edxb)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M933,631.0137 L933,658.0137 M920,639.0137 L946,639.0137 M933,658.0137 L920,673.0137 M933,658.0137 L946,673.0137 " fill="#FEFECE" filter="url(#f1csyqimn3edxb)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FFFFFF" filter="url(#f1csyqimn3edxb)" height="71.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="237.5" y="161.1094"/><rect fill="#FFFFFF" filter="url(#f1csyqimn3edxb)" height="114.9316" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="349.5" y="146.7988"/><rect fill="#FFFFFF" filter="url(#f1csyqimn3edxb)" height="144.2422" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="349.5" y="377.6621"/><rect fill="#FFFFFF" filter="url(#f1csyqimn3edxb)" height="144.2422" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="464.5" y="377.6621"/><rect fill="#FFFFFF" filter="url(#f1csyqimn3edxb)" height="29" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="567" y="276.041"/><rect fill="#FFFFFF" filter="url(#f1csyqimn3edxb)" height="29" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="567" y="536.2148"/><rect fill="#FFFFFF" filter="url(#f1csyqimn3edxb)" height="14.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="754" y="334.3516"/><rect fill="#FFFFFF" filter="url(#f1csyqimn3edxb)" height="43.6211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="754" y="449.2832"/><polygon fill="#A80036" points="125,113.4883,135,117.4883,125,121.4883,129,117.4883" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="44" x2="131" y1="117.4883" y2="117.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="51" y="113.0566">raw data</text><polygon fill="#A80036" points="337.5,142.7988,347.5,146.7988,337.5,150.7988,341.5,146.7988" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="137" x2="343.5" y1="146.7988" y2="146.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="74" x="144" y="142.3672">csv -&gt; json</text><polygon fill="#A80036" points="225.5,157.1094,235.5,161.1094,225.5,165.1094,229.5,161.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="137" x2="231.5" y1="161.1094" y2="161.1094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="247.5" x2="289.5" y1="190.4199" y2="190.4199"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="289.5" x2="289.5" y1="190.4199" y2="203.4199"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="248.5" x2="289.5" y1="203.4199" y2="203.4199"/><polygon fill="#A80036" points="258.5,199.4199,248.5,203.4199,258.5,207.4199,254.5,203.4199" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="254.5" y="185.6777">table -&gt; csv</text><polygon fill="#A80036" points="337.5,228.4199,347.5,232.4199,337.5,236.4199,341.5,232.4199" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="242.5" x2="343.5" y1="232.4199" y2="232.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="249.5" y="227.9883">csv -&gt;json</text><polygon fill="#A80036" points="457.5,257.7305,467.5,261.7305,457.5,265.7305,461.5,261.7305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="354.5" x2="463.5" y1="261.7305" y2="261.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="361.5" y="257.2988">online</text><polygon fill="#A80036" points="555,272.041,565,276.041,555,280.041,559,276.041" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="469.5" x2="561" y1="276.041" y2="276.041"/><polygon fill="#A80036" points="921,301.041,931,305.041,921,309.041,925,305.041" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="572" x2="927" y1="305.041" y2="305.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="579" y="300.6094">show online</text><polygon fill="#A80036" points="742,330.3516,752,334.3516,742,338.3516,746,334.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="354.5" x2="748" y1="334.3516" y2="334.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="361.5" y="329.9199">offline</text><polygon fill="#A80036" points="921,344.6621,931,348.6621,921,352.6621,925,348.6621" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="759" x2="927" y1="348.6621" y2="348.6621"/><polygon fill="#A80036" points="452.5,373.6621,462.5,377.6621,452.5,381.6621,456.5,377.6621" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="359.5" x2="458.5" y1="377.6621" y2="377.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="366.5" y="373.2305">save raw</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="359.5" x2="401.5" y1="407.2832" y2="407.2832"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="401.5" x2="401.5" y1="407.2832" y2="420.2832"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="360.5" x2="401.5" y1="420.2832" y2="420.2832"/><polygon fill="#A80036" points="370.5,416.2832,360.5,420.2832,370.5,424.2832,366.5,420.2832" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="366.5" y="402.541">handle</text><polygon fill="#A80036" points="742,445.2832,752,449.2832,742,453.2832,746,449.2832" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="359.5" x2="748" y1="449.2832" y2="449.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="366.5" y="444.8516">warm</text><polygon fill="#A80036" points="742,474.5938,752,478.5938,742,482.5938,746,478.5938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="359.5" x2="748" y1="478.5938" y2="478.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="366.5" y="474.1621">error</text><polygon fill="#A80036" points="921,488.9043,931,492.9043,921,496.9043,925,492.9043" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="759" x2="927" y1="492.9043" y2="492.9043"/><polygon fill="#A80036" points="457.5,517.9043,467.5,521.9043,457.5,525.9043,461.5,521.9043" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="354.5" x2="463.5" y1="521.9043" y2="521.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="361.5" y="517.4727">handled data</text><polygon fill="#A80036" points="555,532.2148,565,536.2148,555,540.2148,559,536.2148" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="469.5" x2="561" y1="536.2148" y2="536.2148"/><polygon fill="#A80036" points="921,561.2148,931,565.2148,921,569.2148,925,565.2148" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="572" x2="927" y1="565.2148" y2="565.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="579" y="560.7832">show charts</text><polygon fill="#A80036" points="661,575.5254,671,579.5254,661,583.5254,665,579.5254" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="469.5" x2="667" y1="579.5254" y2="579.5254"/><!--
@startuml

box "Devices" #fff
  participant Sensors
  participant Computers as pc
end box

box "ATMS SERVERS"
  participant SqlServer as ss
end box

box "GAE SERVER" #aaa
  participant "Data Handler" as data
  participant "Database" as db
  participant "Presentation" as pre
  participant "Reporter" as reporter
  participant "Checker" as checker
end box

box "OTHER SERVER"
  participant "Cloud" as cloud
end box

actor user

Sensors -> pc: raw data
pc -> data: csv -> json
activate data
pc -> ss
activate ss
ss -> ss: table -> csv
ss -> data: csv ->json
deactivate ss

data -> db: online
deactivate data
db -> pre
activate pre
pre -> user: show online
deactivate pre

data - -> checker: offline
activate checker
checker -> user
deactivate checker

data -> db: save raw
activate data
activate db

data -> data: handle

data -> checker: warm
activate checker
data -> checker: error
checker -> user
deactivate checker

data -> db: handled data
deactivate data
deactivate db

db -> pre
activate pre
pre -> user: show charts
deactivate pre

db -> reporter

@enduml

PlantUML version 1.2017.15(Tue Jul 04 00:45:34 SGT 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_91-b14
Operating System: Mac OS X
OS Version: 10.12.6
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>