!function(t){function e(e){for(var n,o,s=e[0],l=e[1],a=e[2],c=0,d=[];c<s.length;c++)o=s[c],r[o]&&d.push(r[o][0]),r[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);for(u&&u(e);d.length;)d.shift()();return h.push.apply(h,a||[]),i()}function i(){for(var t,e=0;e<h.length;e++){for(var i=h[e],n=!0,s=1;s<i.length;s++){var l=i[s];0!==r[l]&&(n=!1)}n&&(h.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},r={1:0},h=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},o.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="./";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var a=0;a<s.length;a++)e(s[a]);var u=l;h.push([18,0]),i()}({12:function(t,e,i){t.exports=i.p+"0753d028dbe6e05e634376c2eb162a89.svg"},14:function(t,e,i){},18:function(t,e,i){t.exports=i(5)},5:function(t,e,i){"use strict";i.r(e);var n=i(4),r=i(3),h=(i(12),i(2)),o=i.n(h),s={data:function(){return{img:{realWidth:null,realHeight:null,width:null,height:null,whRate:null},center:{left:null,top:null},baseUrl:"../tmp.svg",url:null}},methods:{boxReset:function(){var t=this.$refs.wrapper;t.clientWidth/t.clientHeight>this.img.whRate?this.boxResize({height:t.clientHeight}):this.boxResize({width:t.clientWidth}),this.boxCenter()},boxResize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.width,i=void 0===e?null:e,n=t.height,r=void 0===n?null:n,h=this.$refs.box,o=this.$refs.img;i?(this.img.width=i,this.img.height=i/this.img.whRate):r&&(this.img.height=r,this.img.width=r*this.img.whRate),o.width=h.width=this.img.width,o.height=h.height=this.img.height},boxCenter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.top,i=void 0===e?.5:e,n=t.left,r=void 0===n?.5:n;i<0&&(i=0),i>1&&(i=1),r<0&&(r=0),r>1&&(r=1);var h=this.$refs.wrapper,o=this.$refs.box;this.center.left=r,this.center.top=i,o.style.top=h.clientHeight/2-i*this.img.height+"px",o.style.left=h.clientWidth/2-r*this.img.width+"px"},bindEvent:function(){var t=this,e=this.$refs.wrapper,i=this.$refs.box;new o.a(i).on("dragEnd",function(n){var r=i.style,h=r.top,o=r.left;h=parseFloat(h),o=parseFloat(o),t.center.top=(e.clientHeight/2-h)/t.img.height,t.center.left=(e.clientWidth/2-o)/t.img.width}),Object(r.addWheelListener)(e,function(e){e.preventDefault();var i=t.center,n=i.top,r=i.left,h=t.img.width+10*e.deltaY;h>100&&(t.boxResize({width:h}),t.boxCenter({top:n,left:r}))})},reloadImage:function(){var t=this,e=this.baseUrl+"?"+Date.now(),i=new Image;i.src=e,i.addEventListener("load",function(){t.url=e,t.img.realWidth=i.width,t.img.realHeight=i.height;var n=i.width/i.height;t.img.whRate!==n&&(t.$refs.img.height=t.$refs.img.width/n,t.img.whRate=n)})}},mounted:function(){var t=this;this.$once("loadedImage",function(){setTimeout(function(){t.boxReset()},300)}),this.$refs.img.complete&&this.$emit("loadedImage"),this.bindEvent(),this.reloadImage(),setInterval(function(){t.reloadImage()},1e3)}},l=i(1);var a=function(t){i(14)},u=Object(l.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"wrapper",staticClass:"wrapper",on:{dblclick:t.boxReset}},[i("div",{ref:"box",staticClass:"box"},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.url,expression:"url"}],ref:"img",style:{width:t.img.width,height:t.img.height},attrs:{src:t.url},on:{load:function(){return t.$emit("loadedImage")}}})])])},[],!1,a,"data-v-071b4428",null).exports;i(7);new n.a({el:"#app",render:function(t){return t(u)}})},7:function(t,e,i){}});
//# sourceMappingURL=main.d940cae8.js.map