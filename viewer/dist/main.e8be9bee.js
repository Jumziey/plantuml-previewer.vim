!function(t){function e(e){for(var n,l,h=e[0],a=e[1],s=e[2],u=0,d=[];u<h.length;u++)l=h[u],r[l]&&d.push(r[l][0]),r[l]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);for(c&&c(e);d.length;)d.shift()();return o.push.apply(o,s||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],n=!0,h=1;h<i.length;h++){var a=i[h];0!==r[a]&&(n=!1)}n&&(o.splice(e--,1),t=l(l.s=i[0]))}return t}var n={},r={1:0},o=[];function l(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.m=t,l.c=n,l.d=function(t,e,i){l.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},l.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},l.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="./";var h=window.webpackJsonp=window.webpackJsonp||[],a=h.push.bind(h);h.push=e,h=h.slice();for(var s=0;s<h.length;s++)e(h[s]);var c=a;o.push([17,0]),i()}({13:function(t,e,i){},17:function(t,e,i){t.exports=i(5)},5:function(t,e,i){"use strict";i.r(e);var n=i(4),r=i(3),o=i(2),l=i.n(o),h=new Image,a={data:function(){return{img:{realWidth:null,realHeight:null,width:null,height:null,whRate:null},center:{left:null,top:null},diagramUrl:"../tmp.svg",url:null}},methods:{boxReset:function(){var t=this.$refs.wrapper;t.clientWidth/t.clientHeight>this.img.whRate?this.boxResize({height:t.clientHeight}):this.boxResize({width:t.clientWidth}),this.boxCenter()},boxResize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.width,i=void 0===e?null:e,n=t.height,r=void 0===n?null:n;this.$refs.box;i?(this.img.width=i,this.img.height=i/this.img.whRate):r&&(this.img.height=r,this.img.width=r*this.img.whRate)},boxCenter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.top,i=void 0===e?.5:e,n=t.left,r=void 0===n?.5:n;i<0&&(i=0),i>1&&(i=1),r<0&&(r=0),r>1&&(r=1);var o=this.$refs.wrapper,l=this.$refs.box;this.center.left=r,this.center.top=i,l.style.top=i*o.clientHeight-this.img.height/2+"px",l.style.left=r*o.clientWidth-this.img.width/2+"px"},bindEvent:function(){var t=this,e=this.$refs.wrapper,i=this.$refs.box;new l.a(i).on("dragEnd",function(n){var r=i.style,o=r.top,l=r.left;o=parseFloat(o),l=parseFloat(l),t.center.left=(t.img.width/2+l)/e.clientWidth,t.center.top=(t.img.height/2+o)/e.clientHeight}),Object(r.addWheelListener)(e,function(e){e.preventDefault();var i=t.center,n=i.top,r=i.left,o=t.img.width+10*e.deltaY;o>100&&(t.boxResize({width:o}),t.boxCenter({top:n,left:r}))}),h.addEventListener("load",function(){t.url=h.src,t.img.realWidth=h.width,t.img.realHeight=h.height;var e=h.width/h.height;t.img.whRate!==e&&(t.img.height=t.img.width/e,t.img.whRate=e),h.src=null})},reloadImage:function(){h.src=this.diagramUrl+"?"+Date.now()}},mounted:function(){var t=this;setTimeout(function(){t.boxReset.call(t)},300),this.bindEvent(),this.reloadImage(),setInterval(function(){t.reloadImage()},1e3)}},s=i(1);var c=function(t){i(13)},u=Object(s.a)(a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"wrapper",staticClass:"wrapper",on:{dblclick:t.boxReset}},[i("div",{ref:"box",staticClass:"box",style:{width:t.img.width+"px",height:t.img.height+"px"},attrs:{"data-center":"left: "+t.center.left+", top: "+t.center.top}},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.url,expression:"url"}],ref:"img",attrs:{src:t.url},on:{load:function(){return t.$emit("loadedImage")}}})])])},[],!1,c,"data-v-439a3206",null).exports;i(7);new n.a({el:"#app",render:function(t){return t(u)}})},7:function(t,e,i){}});
//# sourceMappingURL=main.e8be9bee.js.map