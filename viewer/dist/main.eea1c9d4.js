!function(e){function t(t){for(var n,h,l=t[0],a=t[1],s=t[2],u=0,d=[];u<l.length;u++)h=l[u],r[h]&&d.push(r[h][0]),r[h]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(c&&c(t);d.length;)d.shift()();return o.push.apply(o,s||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],n=!0,l=1;l<i.length;l++){var a=i[l];0!==r[a]&&(n=!1)}n&&(o.splice(t--,1),e=h(h.s=i[0]))}return e}var n={},r={1:0},o=[];function h(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,h),i.l=!0,i.exports}h.m=e,h.c=n,h.d=function(e,t,i){h.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},h.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},h.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return h.d(t,"a",t),t},h.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},h.p="./";var l=window.webpackJsonp=window.webpackJsonp||[],a=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var c=a;o.push([17,0]),i()}({13:function(e,t,i){},17:function(e,t,i){e.exports=i(5)},5:function(e,t,i){"use strict";i.r(t);var n=i(4),r=i(3),o=i(2),h=i.n(o),l=new Image,a={data:function(){return{img:{realWidth:null,realHeight:null,width:null,height:null,whRate:null},center:{left:null,top:null},needReset:!0,diagramUrl:"../tmp.svg",url:null}},methods:{boxReset:function(){var e=this.$refs.wrapper;e.clientWidth/e.clientHeight>this.img.whRate?this.boxResize({height:e.clientHeight}):this.boxResize({width:e.clientWidth}),this.boxCenter()},boxResize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,i=void 0===t?null:t,n=e.height,r=void 0===n?null:n;this.$refs.box;i?(this.img.width=i,this.img.height=i/this.img.whRate):r&&(this.img.height=r,this.img.width=r*this.img.whRate)},boxCenter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.top,i=void 0===t?.5:t,n=e.left,r=void 0===n?.5:n;i<0&&(i=0),i>1&&(i=1),r<0&&(r=0),r>1&&(r=1);var o=this.$refs.wrapper,h=this.$refs.box;this.center.left=r,this.center.top=i,h.style.top=i*o.clientHeight-this.img.height/2+"px",h.style.left=r*o.clientWidth-this.img.width/2+"px"},bindEvent:function(){var e=this,t=this.$refs.wrapper,i=this.$refs.box;new h.a(i).on("dragEnd",function(n){var r=i.style,o=r.top,h=r.left;o=parseFloat(o),h=parseFloat(h),e.center.left=(e.img.width/2+h)/t.clientWidth,e.center.top=(e.img.height/2+o)/t.clientHeight}),Object(r.addWheelListener)(t,function(t){t.preventDefault();var i=e.center,n=i.top,r=i.left,o=e.img.width+10*t.deltaY;o>100&&(e.boxResize({width:o}),e.boxCenter({top:n,left:r}))}),l.addEventListener("error",function(){e.needReset=!0}),l.addEventListener("load",function(){e.url=l.src,e.img.realWidth=l.width,e.img.realHeight=l.height;var t=l.width/l.height;e.img.whRate!==t&&(e.img.height=e.img.width/t,e.img.whRate=t),e.needReset&&(e.needReset=!1,e.boxReset())})},reloadImage:function(){l.src=this.diagramUrl+"?"+Date.now()}},mounted:function(){var e=this;this.bindEvent(),this.reloadImage(),setInterval(function(){e.reloadImage()},1e3)}},s=i(1);var c=function(e){i(13)},u=Object(s.a)(a,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"wrapper",staticClass:"wrapper",on:{dblclick:e.boxReset}},[i("div",{ref:"box",staticClass:"box",style:{width:e.img.width+"px",height:e.img.height+"px"},attrs:{"data-center":"left: "+e.center.left+", top: "+e.center.top}},[i("img",{directives:[{name:"show",rawName:"v-show",value:e.url,expression:"url"}],ref:"img",attrs:{src:e.url},on:{load:function(){return e.$emit("loadedImage")}}})])])},[],!1,c,"data-v-158f2334",null).exports;i(7);new n.a({el:"#app",render:function(e){return e(u)}})},7:function(e,t,i){}});
//# sourceMappingURL=main.eea1c9d4.js.map